"use strict";define(["app","jquery","flotJS","jquery_keypad"],function(e,t){e.compileProvider.directive("visualizegradintdirective",function(){return{restrict:"A",link:function(e,n,r,i){function x(){var e=[];A();e.push([p,E*p+S]);e.push([d,E*d+S]);if(v==1)o=[[]];o.push({data:e,color:u[0]});var n=t.extend(true,{},l);n.xaxis.min=f.xaxis.min.toFixed(2);n.xaxis.max=f.xaxis.max.toFixed(2);n.yaxis.min=f.yaxis.min.toFixed(2);n.yaxis.max=f.yaxis.max.toFixed(2);a=t.plot(s,o,n);f=a.getAxes();M()}function T(){var e=t('[name="radioStates"]');for(var n=0;n<e.length;n++){if(e.eq(n).hasClass("active")){v=e.eq(n).val();break}}}function N(){A();var e=parseFloat(b.val());e-=m;b.val(_(e,2));x()}function C(){A();var e=parseFloat(b.val());e+=m;b.val(_(e,2));x()}function k(){A();var e=parseFloat(w.val());e-=5*m;w.val(_(e,2));x()}function L(){A();var e=parseFloat(w.val());e+=5*m;w.val(_(e,2));x()}function A(){var e=parseFloat(b.val());var t=parseFloat(w.val());if(isNaN(e)){e=E;b.val(E)}else{E=e}if(isNaN(t)){t=S;w.val(S)}else{S=t}}function O(){o=[[]];b.val(g);w.val(y);x()}function M(){var e=t("#currentLineMessageBox");var n="y ",r,i="x",s,o;r=_(E,2);if(r==0){r=i="";s=""}else if(r==1){r="";s=" + "}else{s=" + "}if(S==0){s="";o=""}else if(S<0){s=" - ";o=Math.abs(_(S,2))}else{o=_(S,2)}e.html("Equation of last drawn line:<br/>"+"<em>"+n+"</em>"+" = "+"<span style='font-weight: bold; color: blue'>"+r+"</span>"+"<em>"+i+"</em>"+s+"<span style='font-weight: bold; color: darkgreen'>"+o+"</span>")}function _(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var s;var o=[[]];var u=["#FF0000"];var a;var f;var l;var c;var h;var p=-5;var d=5;var v=1;var m=.1;var g=0;var y=1;var b=t("#currentGrad");var w=t("#currentInt");var E=parseFloat(b.val());var S=parseFloat(w.val());s=t("#placeholder");l={series:{lines:{show:true},points:{show:false}},xaxis:{min:p,max:d},yaxis:{min:p,max:d},zoom:{interactive:false},pan:{interactive:false},grid:{backgroundColor:{colors:["#fff","#eee"]},markings:[{xaxis:{from:0,to:0},color:"#000"},{yaxis:{from:0,to:0},color:"#000"}]}};h=[];h.push([p,d+1]);h.push([d,d+1]);c=t.extend(true,{},l);c.xaxis.min=p;c.xaxis.max=d;c.yaxis.min=p;c.yaxis.max=d;a=t.plot(s,[h],c);f=a.getAxes();t("#mainContainer").on("touchstart",function(e){e.preventDefault()});t('[name="radioStates"]').on("click",T);t("#decreaseGrad").on("click",N);t("#increaseGrad").on("click",C);t("#decreaseInt").on("click",k);t("#increaseInt").on("click",L);t("#resetAll").on("click",O);t(".redrawBtns").on("click",x);t(":text").keypad({showOn:"button",buttonImageOnly:true,buttonImage:"../img/keypad.png"}).keypad("change",{showAnim:"fadeIn",showOptions:null,duration:"fast"});O()}}})})
